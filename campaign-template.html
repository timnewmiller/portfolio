<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corporate Campaign Overview Landing Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="campaigns.css">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
   
</head>
<body>


<!-- Hero & Heading -->

<header class="hero position-relative">
    <img src="https://placehold.co/2000x400" id="hero-image" pardot-region="hero_image" pardot-region-type="image" alt="image alt text"/>
    <div class="hero-image-shadow"></div>
    <div class="container h-100 d-flex align-items-center position-relative" style="z-index:3;">
        <div class="row justify-content-center w-100">
            <div class="col-12 col-md-10 col-lg-8 text-center d-flex flex-column" style="height:400px;">
                <img src="https://placehold.co/200x65" alt="Company Logo" height="65" width="200" class="mb-auto mt-3 mx-auto"/>
                <div id="campaign" style="height:auto;" class="pb-5">
                    <h1 id="title" class="text-center text-white" pardot-region="title" pardot-region-type="simple">Corporate Campaign Heading</h1>
                    <span id="subtitle" class="text-white" pardot-region="subtitle" pardot-region-type="simple">Sub-title or secondary message</span>
                </div>
            </div>
        </div>
    </div>
</header>
<main>
    <!-- Navigation -->
    <section class="nav pt-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 col-md-10 col-lg-8 text-center">
                    <ul class="list-group list-group-horizontal-md w-100" id="navigation"></ul>
                    <div id="navigation-editor" pardot-region="navigation-editor" pardot-region-type="html">
                        <script>
                            const navList = [
                                {
                                    title: "Applications",
                                    link: "#applications"
                                },
                                {
                                    title: "Features",
                                    link: "#features"
                                },
                                {
                                    title: "Webinar",
                                    link: "#webinar"
                                },
                                {
                                    title: "Products",
                                    link: "#products"
                                },
                                {
                                    title: "Request Quote",
                                    link: "#footer"
                                }
                            ];
                        </script>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Campaign Intro -->
    <section class="info py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 px-4 col-md-11 col-lg-8 text-left text-md-center">
                    <div>
                        <h2 pardot-region="introduction title" pardot-region-type="simple">Introduction to this template</h2>
                        <div pardot-region="introduction" pardot-region-type="pardot" id="campaign_info" class="mt-4">
                            <p>This layout was built using HTML, CSS, and JavaScript, for integration into Salesforce Account Engagement (AE). AE (or Pardot) field types were implemented to allow in-editor content management and template reuse. When active in AE, this can also integrates with the landing page's form. Each application link starts 'restricted', asking visitors to submit the corporation's requested lead generation form via a pop-up modal. Upon successful form submission, Javascript allows content engagement. While originally built to incorporate javascript via code blocks to allow easy addition of repeatable elements, in reality this was not feasible and those were switched to utilizing HTML regions instead.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- App Notes -->
    <section class="app-notes py-5" id="app-notes">
        <div class="container">
            <div class="row">
                <div class="col-12 col-md-10 col-lg-8 text-left mx-auto mt-3 mb-5">
                    <div pardot-region="appNotes-heading" pardot-region-type="pardot">
                        <h2>Application Section</h2>
                        <p>Cards utilized to feature application notes - demonstrations of the products' capabilities in real-world scenarios. While this text would be controlled by a wysiwyg region, there is also an additional editing block of type 'html' that would allow modification of javascript for easier output.</p>
                        <p>Each of these cards require a form to be submitted prior to the destination URL being made accessible. The form is intended to be the default Account Engagement form for the landing page - represented by </pre>%%content%%</pre> in the template.</p>
                    </div>
                </div>
            </div>
            <div class="row" id="apps-container">
                <div id="app-notes-editor" pardot-region="app-notes-editor" pardot-region-type="html">
                    <script>
                        const appNotes = [
                            {
                                title: "App Note 1",
                                description: "Description for App Note 1",
                                imgSrc: "https://placehold.co/415x150",
                                link: "https://www.google.com"
                            },
                            {
                                title: "App Note 2",
                                description: "Description for App Note 2",
                                imgSrc: "https://placehold.co/415x150",
                                link: "https://www.google.com"
                            },
                            {
                                title: "App Note 3",
                                description: "Description for App Note 3",
                                imgSrc: "https://placehold.co/415x150",
                                link: "https://www.google.com"
                            },
                            {
                                title: "App Note 4",
                                description: "Description for App Note 4",
                                imgSrc: "https://placehold.co/415x150",
                                link: "https://www.google.com"
                            },
                            {
                                title: "App Note 5",
                                description: "Description for App Note 5",
                                imgSrc: "https://placehold.co/415x150",
                                link: "https://www.google.com"
                            },
                            {
                                title: "App Note 6",
                                description: "Description for App Note 6",
                                imgSrc: "https://placehold.co/415x150",
                                link: "https://www.google.com"
                            }
                        ];
                    </script>
                </div>
            </div>
        </div>
    </section>

    <!-- Why LECO? -->
    <section class="why-leco py-5 mb-5" id="leco-features">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 col-md-10 col-lg-8 text-left mb-5" pardot-region="purpose" pardot-region-type="pardot">
                    <h2>Why Pick this Company?</h2>
                    <p>This is another wysiwyg region, allowing for content to overview the hightlighted features, benefits, or unique selling propositions below. An additional HTML region would allow further javascript interaction. Implementation of JavaScript intended to provide easier method for non-coding individuals to add multiple, repeatable elements in an environment that does not allow database integration. </div>
                    <pre>
                      {
                            title: "Accuracy",
                            description: "Short statement about accuracy",
                            imgSrc: "https://timranosaur.us/timmy/inc/accuracy_75.png"
                        },
                    </pre>
                </div>
            </div>
            <div class="row justify-content-center text-center" id="leco-features">
                <div id="features-editor" pardot-region="feature-list" pardot-region-type="html">
                    <script>
                        const featureList = [
                            {
                                title: "Accuracy",
                                description: "Short statement about accuracy",
                                imgSrc: "https://timranosaur.us/timmy/inc/accuracy_75.png"
                            },
                            {
                                title: "Expertise",
                                description: "Short statement about expertise",
                                imgSrc: "https://timranosaur.us/timmy/inc/expertise_75.png"
                            },
                            {
                                title: "Durability",
                                description: "Short statement about durability",
                                imgSrc: "https://timranosaur.us/timmy/inc/durability_75.png"
                            },
                            {
                                title: "Support",
                                description: "Short statement about support",
                                imgSrc: "https://timranosaur.us/timmy/inc/support_75.png"
                            }   
                        ];
                    </script>
                </div>            
            </div>
        </div>
    </section>

    <!-- Webinar/Other Content -->
    <section class="optional bg-light py-5 mb-5" id="webinar">
        <div class="container my-4">
            <div class="row justify-content-center">
                <div class="col-12 col-md-7 col-lg-6 offset-md-1 order-md-1 order-2 pt-lg-5 pt-md-2 pt-4 pe-md-5 px-4">
                    <div pardot-region="webinar-text" pardot-region-type="pardot">
                        <h2>Webinar Teaser Content</h2>
                        <p>This is another wysiwyg section that allows for modification of heading, content, and the below button. This button features class "unlocked" - which will allow users to access the destination without a prior form submission.</p>
                        <a href="campaign-webinar.html" class="btn btn-secondary unlocked">Access this content</a>
                    </div>
                </div>
                <div class="col-10 col-md-4 col-lg-5 order-md-2 order-1">
                    <img pardot-region="webinar-image" pardot-region-type="image" class="rounded rounded-3" src="https://placehold.co/550x400" alt="alt-text" width="550" height="auto"/>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Carousel -->
    <section class="products py-5" id="products">
        <div class="container">
            <div class="row">
                <div class="col-12 col-md-10 col-lg-8 mx-auto mb-3 px-4">
                    <div pardot-region="products-heading" pardot-region-type="pardot">
                        <h2 class="text-center mb-4">Products Scroll</h2>
                        <p>This wysiwyg region allows information about products of interest to be added. What ties them together? What purpose do they serve? What makes them better? Answering these questions and similar was the motivation behind adding this section.</p>
                        <p>Once again, an HTML region allows for editing javascript, for easy manipulation of product cards and to add additions with low-code experience.</p>
                    </div>
                </div>
            </div>

            <div class="scroll-wrap">
                <button class="scroll-arrow left">&lt;</button>
                <div class="product-scroll pb-3 mb-5" id="productScroll">
                    <div id="products-region" pardot-region="product-list" pardot-region-type="html">
                        <script>
                            const productList = [
                        {
                            title: "Product Identifier",
                            description: "Description for this Product",
                            imgSrc: "https://placehold.co/315x160",
                            link: "#"
                        },
                        {
                            title: "Second Product Identifier",
                            description: "Description for this product",
                            imgSrc: "https://placehold.co/315x160",
                            link: "#"
                        },
                        {
                            title: "Third product identifier",
                            description: "Description for this Product",
                            imgSrc: "https://placehold.co/315x160",
                            link: "#"
                        },
                        {
                            title: "Fourth product identifier",
                            description: "Description for this Product",
                            imgSrc: "https://placehold.co/315x160",
                            link: "#"
                        }
                        
                    ];
                        </script>
                    </div> 
                </div>
                <button class="scroll-arrow right" style="width:2em;right:0;">&gt;</button>
            </div>
            <script>
                const scrollContainer = document.querySelector('.product-scroll');
                const leftArrow = document.querySelector('.scroll-arrow.left');
                const rightArrow = document.querySelector('.scroll-arrow.right');
        
                scrollContainer.addEventListener('wheel', (evt) => {
                    evt.preventDefault();
                    scrollContainer.scrollLeft += evt.deltaY;
                });
                            
                leftArrow.addEventListener('click', () => { 
                    scrollContainer.scrollBy({ left: -300, behavior: 'smooth' }); 
                });
        
                rightArrow.addEventListener('click', () => { 
                    scrollContainer.scrollBy({ left: 300, behavior: 'smooth' }); 
                });
            </script>
        </div>
    </section>
</main>

<footer class="pt-5" style="background-color:#2F3A45;" id="footer">
    <!-- Contact Form -->
    <section class="container contact-form py-5">
            <div class="row">
                <div class="col-12 col-md-9 col-xl-6 mx-auto">
                    <h2 class="text-center mb-4" pardot-region="contact-footer" pardot-region-type="simple">Request a Quote</h2>
                    <div class="mb-4" pardot-region="contact-footer-info" pardot-region-type="basic"><p style="text-align:center;">In this Basic region ("wysiwyg-lite"), text can be edited to explaining the purpose of the form, or one last call to action. This form does require an Account Engagement Form Handler URL to be utilized, which would be placed inside the "campaign-form-handler-url" region Currently, the action defaults to "#".</p></div>
                </div>
                <div class="col-10 mx-auto pt-3">
                    <div id="contact-form-url" pardot-region="campaign-form-handler-url" pardot-region-type="html">
                        <script>
                            const formLink = "#";
                        </script>
                    </div>
                    <form class="container" method="post" id="codedCampaignForm" autocomplete="on">
                        <div class="row g-5 pt-5">
                            <div class="col-xl-6 mt-1">
                                <div class="row g-3 mb-3">
                                    <div class="col">
                                        <label for="firstName" class="form-label"><span class="required">First Name</span></label>
                                        <input type="text" class="form-control" name="firstName" id="firstName"  aria-label="First name" required aria-required="true" autocomplete="given-name">
                                    </div>
                                    <div class="col">
                                        <label for="lastName" class="form-label"><span class="required">Surname</span></label>
                                        <input type="text" class="form-control" name="lastName" id="lastName"  aria-label="Last name" required aria-required="true" autocomplete="family-name">
                                    </div>
                                </div>
                                <div class="row g-3 mb-3">
                                    <div class="col">
                                        <label for="email" class="form-label"><span class="required">Email address</span></label>
                                        <input type="email" class="form-control" name="email" id="email" aria-label="Email address" required aria-required="true" autocomplete="email">
                                    </div>
                                    <div class="col">
                                        <label for="telephone" class="form-label">Telephone</label>
                                        <input type="tel" class="form-control" name="telephone" id="telephone" aria-label="Telephone Number" autocomplete="tel">
                                    </div>
                                </div>
                                <div class="row g-3 mb-3">
                                    <div class="col-12">
                                        <label for="street" class="form-label">Street address</label>
                                        <input type="text" class="form-control" name="street" id="street" aria-label="Street address" autocomplete="street-address">
                                    </div>
                                    <div class="col">
                                        <label for="country" class="form-label"><span class="required">Country</span></label>
                                        <select class="form-select" name="country" id="country" aria-label="Purchase Intent Selection" required aria-required="true" autocomplete="country-name">
                                            <option selected>Please specify&hellip;</option>
                                            <option>United States</option>
                                            <option>Canada</option>                                            
                                        </select>
                                    </div>
                                    <div class="col">
                                        <label for="postCode" class="form-label"><span class="required">Postal code</span></label>
                                        <input type="text" class="form-control" name="postcode" id="postCode"  aria-label="Postal or ZIP code" required aria-required="true" autocomplete="postal-code">
                                    </div>
                                </div>
                                <div class="row g-3 mb-3">
                                    <div class="col">
                                        <label for="city" class="form-label">City</label>
                                        <input type="text" class="form-control" name="city" id="city" aria-label="City" autocomplete="address-level2">
                                    </div>
                                    <div class="col">
                                        <label for="state" class="form-label">State or Province</label>
                                        <input type="text" class="form-control" name="state" id="state" aria-label="State or Province" autocomplete="address-level1">
                                    </div>
                                </div>    
                            </div>
                            <div class="col-xl-6 mt-1">
                                <div class="row g-3 mb-3">
                                    <div class="col">
                                        <label for="urgency" class="form-label"><span class="required">Purchase Intent</span></label>
                                        <select class="form-select" name="intent" id="urgency" aria-label="Purchase Intent Selection" required aria-required="true">
                                            <option selected>Please specify&hellip;</option>
                                            <option value="Learning">Expanding my knowledge</option>
                                            <option value="Researching">Investigating technologies for my applications</option>
                                            <option value="Interested">Starting the buying process within one year </option>
                                            <option value="Purchasing">Actively in the buying process</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row g-3 mb-3">
                                    <div class="col">
                                        <label for="requestQuoteContent" class="form-label">Details or Comments</label>
                                        <textarea class="form-control" name="comments" id="requestQuoteContent" rows="5"></textarea>
                                    </div>
                                </div>  
                                <div class="row form-check ms-2 mt-3">
                                    <input class="form-check-input" name="marketing" type="checkbox" value="" id="gdprOption" >
                                    <label class="form-check-label" for="gdprOption" style="font-size:0.9em;line-height:1.2em;">[ This is the company's GDPR-compliance consent checkbox. ]</label>
                                </div>
                                <p style="font-size:12px;" class="text-white m-0"><span class="required"></span> indicates a required field.</p>
                                <button type="submit" class="btn btn-primary mt-2">Submit</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    const form = document.getElementById('codedCampaignForm');
                    const formLinkElement = document.getElementById('contact-form-url');
                    if (formLinkElement && formLinkElement.querySelector('script')) {
                        const formLinkScript = formLinkElement.querySelector('script');
                        eval(formLinkScript.textContent);
                        if (typeof formLink !== 'undefined') {
                            form.action = formLink;
                        }
                    }
                });
            </script>
    </section>
    <div class="container">
        <div class="row flex-column">
            <div class="col-12 col-md-9 col-lg-6 mx-auto border-top border-white border-2 pt-3 text-center">
                <p class="footer-links" pardot-region="footer-links" pardot-region-type="simple"><a href="#" title="Privacy Policy" target="_blank">Privacy Policy</a> | <a href="#" title="Terms and Conditions" target="_blank">Terms and Conditions</a> | <a href="#/" title="Work for us" target="_blank">Careers</a></p>
            </div>
            <div class="col-12 col-md-9 col-lg-6 mx-auto text-center">
                <p class="legal">&copy; <a href="#" title="Company Website" style="text-decoration:none;color:#FFFFFF;">Company Name</a>. All Rights Reserved.</p>
            </div>
        </div>
    </div>

    <a href="#footer" class="float"><i class="bi bi-chat-dots-fill"></i> Request a Quote</a>

    <div id="formModal" class="modal fade" tab-index="-1">
        <div id="formContainer" class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header px-2 py-2">
                    <h2 class="modal-title h6 pt-1">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </h2>
                </div>
                <div class="modal-body py-2">
                    <h2 class="h6">To access the content, please submit this form:</h2>
                    <code>%%content%%</code>
                    <p>In Account Engagement, placing <code>%%content%%</code> in your template will render the associated form. This text is demonstrative.</p>
                </div>
            </div>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.1/dist/js.cookie.min.js"></script>
<script>
    function renderNavList() {
        const container = document.getElementById('navigation');
        
        navList.forEach(link => {
            const navItem = document.createElement('li');
            navItem.className = 'list-group-item flex-fill';

            const navLink = document.createElement('a');
            navLink.href = link.link;
            navLink.textContent = link.title;

            navItem.appendChild(navLink);
            
            container.appendChild(navItem);
        });
    }

    function renderAppsCards() {
        const container = document.getElementById('apps-container');
        
        appNotes.forEach(note => {
            const cardCol = document.createElement('div');
            cardCol.className = 'col-md-4 col-sm-6 col-12 mb-4';

            const card = document.createElement('div');
            card.className = 'card';

            const img = document.createElement('img');
            img.src = note.imgSrc;
            img.className = 'card-img-top';
            img.alt = note.title;

            const cardBody = document.createElement('div');
            cardBody.className = 'card-body';

            const cardTitle = document.createElement('h3');
            cardTitle.className = 'card-title';
            cardTitle.textContent = note.title;

            const cardText = document.createElement('p');
            cardText.className = 'card-text';
            cardText.textContent = note.description;

            const learnMoreBtn = document.createElement('a');
            learnMoreBtn.href = '#';
            learnMoreBtn.className = 'btn btn-secondary modal-opener locked';
            learnMoreBtn.setAttribute('data-bs-toggle', 'modal');
            learnMoreBtn.setAttribute('data-bs-target', '#formModal');
            learnMoreBtn.setAttribute('data-original-url', note.link);
            learnMoreBtn.textContent = 'Learn More';

            cardBody.appendChild(cardTitle);
            cardBody.appendChild(cardText);
            cardBody.appendChild(learnMoreBtn);
            
            card.appendChild(img);
            card.appendChild(cardBody);
            
            cardCol.appendChild(card);
            
            container.appendChild(cardCol);
        });
    }

    function renderProductCards() {
        const container = document.getElementById('productScroll');
        const productCount = productList.length;

        let columnClass = productCount === 1 ? 'd-flex' :
                          productCount === 2 ? 'col-md-6 d-flex' :
                          productCount === 3 ? 'col-md-4 col-sm-6' :
                          'col-lg-3 col-md-4 col-sm-6';

        let imageClass = productCount <= 2 ? 'two-by-two' : 'three-up';

        productList.forEach(product => {
            const card = document.createElement('div');
            card.className = `product-card ${columnClass} col-12`;

            const img = document.createElement('img');
            img.src = product.imgSrc;
            img.className = `card-img-top ${imageClass}`;
            img.alt = product.title;

            const cardBody = document.createElement('div');
            cardBody.className = 'card-body';

            const cardTitle = document.createElement('h3');
            cardTitle.className = 'card-title mt-3';
            cardTitle.textContent = product.title;

            const cardText = document.createElement('p');
            cardText.className = 'card-text';
            cardText.textContent = product.description;

            const viewProduct = document.createElement('a');
            viewProduct.href = product.link;
            viewProduct.className = 'btn btn-primary';
            viewProduct.textContent = 'Explore Product';

            cardBody.appendChild(cardTitle);
            cardBody.appendChild(cardText);
            cardBody.appendChild(viewProduct);

            card.appendChild(img);
            card.appendChild(cardBody);

            container.appendChild(card);
        });
    }

    function renderFeatureCards() {
        const container = document.getElementById('leco-features');
        
        featureList.forEach(note => {
            const cardCol = document.createElement('div');
            cardCol.className = 'col-lg-3 col-md-6 col-12 mb-4';

            const card = document.createElement('div');
            card.className = 'card p-3';

            const cardBody = document.createElement('div');
            cardBody.className = 'card-body';

            const img = document.createElement('img');
            img.src = note.imgSrc;
            img.className = 'my-3 mx-auto';
            img.alt = note.title + ' icon';
            img.setAttribute = ('role','presentation');
            img.width = 75;
            img.height = 75;

            const cardTitle = document.createElement('h3');
            cardTitle.className = 'card-title';
            cardTitle.textContent = note.title;

            const cardText = document.createElement('p');
            cardText.className = 'card-text';
            cardText.textContent = note.description;

            cardBody.appendChild(cardTitle);
            cardBody.appendChild(cardText);
            
            card.appendChild(img);
            card.appendChild(cardBody);
            
            cardCol.appendChild(card);
            
            container.appendChild(cardCol);
        });
    }

    function lockButton(button) {
        let originalUrl = button.getAttribute('data-original-url');
        if (!originalUrl || originalUrl === '#') {
            originalUrl = button.getAttribute('href');
        }
        button.setAttribute('data-original-url', originalUrl);
        button.setAttribute('href','#');
        button.setAttribute('data-bs-toggle', 'modal');
        button.setAttribute('data-bs-target', '#formModal');
        
        button.classList.remove('available', 'btn-primary');
        button.classList.add('modal-opener', 'btn-secondary');

        if(button.textContent.trim() === 'Access document') {
            button.textContent = 'Learn More';
        }
    }

    function lockDocuments(selector = '.available, .locked') {
        const userButtons = document.querySelectorAll(selector);
        userButtons.forEach(lockButton);
    }

    function unlockDocuments() {
        document.querySelectorAll('.modal-opener').forEach(button =>{
            const originalUrl = button.getAttribute('data-original-url');
            if (originalUrl && originalUrl !== '#') {
                button.href = originalUrl;
                button.removeAttribute('data-bs-toggle');
                button.removeAttribute('data-bs-target');
                button.classList.remove('modal-opener', 'btn-secondary');
                button.classList.add('available', 'btn-primary');

                if(button.textContent.trim() === 'Learn More') {
                    button.textContent = 'Access document';
                } 
            }           
        });
    }

    function freeAccess() {
        document.querySelectorAll('.unlocked').forEach(button =>{
            button.removeAttribute('data-bs-toggle');
            button.removeAttribute('data-original-url');
            button.removeAttribute('data-bs-target');
            button.classList.remove('btn-secondary', 'locked', 'available');
            button.classList.add('btn', 'btn-primary');
        });
    }

    function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
    }

    function setCookie(name, value, days) {
        let expires = "";
        if (days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + (value || "") + expires + "; path=/";
    }

    function initializeDocumentAccess() {
        if (getCookie('accessCampaignDocs')) {
            unlockDocuments();
        } else {
            lockDocuments();
        }
    }

    function handleFormSubmissionSuccess() {
        setCookie('accessCampaignDocs', 'true', 1);
        unlockDocuments();
    }

    // Modal and Form Handling
    document.addEventListener('DOMContentLoaded', function() {
        renderNavList();
        renderProductCards();
        renderFeatureCards();      
        renderAppsCards();
        lockDocuments('.locked');

        initializeDocumentAccess(); 
        freeAccess();

        const formModal = document.getElementById('formModal');
        formModal.addEventListener('hidden.bs.modal', cleanupModal);
    });

    document.getElementById('formModal').addEventListener('show.bs.modal', function () {
        document.querySelector('main').setAttribute('inert', '');
    });
   
    document.getElementById('formModal').addEventListener('hidden.bs.modal', function () {
        document.querySelector('main').removeAttribute('inert');
    });

    document.getElementById('pardot-form').addEventListener('submit',function(e) {
        e.preventDefault();
        const pdotform = this;
        const pdotformData = new FormData(pdotform);

        fetch(pdotform.action, {
            method: 'POST',
            body: pdotformData
        }).then(response => {
            if (response.ok) {
                setCookie('accessCampaignDocs', 'true', 1);
                handleFormSubmissionSuccess();
                bootstrap.Modal.getInstance(document.getElementById('formModal')).hide();
            }
        }).catch(error => {
            console.error('Error:', error);
        });
    });

    function cleanupModal() {
        document.body.classList.remove('modal-open');
        document.body.removeAttribute('data-bs-overflow');
        document.body.removeAttribute('data-bs-padding-right');
        document.body.removeAttribute('aria-hidden');
        document.body.style.removeProperty('overflow');
        document.body.style.removeProperty('padding-right');
        document.querySelectorAll('.modal-backdrop').forEach(el => el.remove());
    }

    function removeCookie() {
        Cookies.remove('documentsUnlocked', { path: '/' });
        Cookies.remove('doalittledance', { path: '/' });
        Cookies.remove('accessCampaignDocs', { path: '/' });
        lockDocuments();
    }
</script>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

</body>
</html>
