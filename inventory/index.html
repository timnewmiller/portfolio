<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Inventory Management System</title>
  </head>
  <body>
    <header>

    </header>
    <main class="container mx-auto">
      <div class="row">
        <div class="col-12">
          <h1>Manage your inventory</h1>
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-md-6">

            <!-- Add Bootstrap CSS and JS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<form id="itemForm" class="container mt-5" action="#" method="POST" onsubmit="showDemoMessage(); return false;">
  <div class="card">
    <div class="card-body">
      <h2 class="card-title mb-4">Item Inventory Manager</h2>

      <div class="row align-items-center mb-3" id="listContainer">
        <div class="col-8">
          <select class="form-select mb-2" id="listSelect" aria-label="Select an existing list">
            <option selected>Choose a list...</option>
            <option value="1">One</option>
            <option value="2">Two</option>
            <option value="3">Three</option>
          </select>
        </div>
        <div class="col-4">
          <button class="btn btn-outline-secondary w-100" type="button" onclick="addListName()">(+) New List</button>
        </div>
        <div class="row d-none mt-3" id="newListName">
            <div class="form-group mb-3 col-12">
              <input type="text" class="form-control" id="listName" name="listName" placeholder="enter name" ><!-- would add "required" in live -->
            </div>
        </div>
      </div>
      
      <div id="itemContainer" class="mb-3">
        <div class="item-row row my-3">
          <div class="form-group col-8">
            <input type="text" class="form-control" id="itemName" name="itemName[]" placeholder="item" required>
          </div>
          
          <div class="form-group col-2">
            <input type="number" class="form-control" id="itemQuantity" name="itemQuantity[]" placeholder="qty">
          </div>
        </div>
      </div>

      <div class="d-flex gap-2 mb-3">
        <button type="button" class="btn btn-primary" onclick="addItem()">(+) item</button>
        <button type="submit" class="btn btn-success">Save List</button>
      </div>

      <div id="demoMessage" class="alert alert-info mt-4" role="alert" style="display:none;">
            </div>
    </div>
  </div>
</form>

          

<div id="qrContainer" class="container mt-4"></div>

        </div>

      </div>
    </main>
    <footer>
      
    </footer>
    <script>
        function addListName() {
            const newListName = document.getElementById('newListName');
            const select = document.getElementById('listSelect');

            newListName.classList.toggle('d-none');           

            if(newListName.classList.contains('d-none')) {
                select.removeAttribute('disabled');
            } else {
                select.setAttribute('disabled','');
            }
        }

        function addItem() {
            const container = document.getElementById('itemContainer');
            const row = document.createElement('div');
            row.className = 'item-row row';
            row.innerHTML = `
                <div class="form-group mb-3 col-8">
                    <input type="text" class="form-control item-name" placeholder="item">
                </div>
                
                <div class="form-group mb-3 col-2">
                    <input type="number" class="form-control item-quantity" placeholder="qty">
                </div>

                <div class="form-group col-2 mb-3">
                    <button type="button" class="btn btn-danger btn-sm" onclick="removeItem(this)">\(-\) item</button>
                </div>
            `;
            container.appendChild(row);
        }

      function showDemoMessage() {
        const demoMessageDiv = document.getElementById('demoMessage');
        demoMessageDiv.innerHTML = `
            <h3>Demonstration Mode</h3>
            <p>This is a static demonstration. The form submission functionality is disabled.</p>
            <p>If this were a live application, clicking "Save List" would:</p>
            <ul>
                <li>Persist your list and item data to a database.</li>
                <li>Generate a unique QR code for easy access to your inventory.</li>
                <li>Provide a summary of changes made (new items, updated quantities, deleted items).</li>
            </ul>
            <p>Check the source code on GitHub for backend logic.</p>
            <a href="https://github.com/timnewmiller/portfolio/inventory" class="btn btn-primary mt-3" target="_blank">View on GitHub</a>
        `;
        demoMessageDiv.style.display = 'block'; // Make the message visible
    }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

  </body>
</html>
